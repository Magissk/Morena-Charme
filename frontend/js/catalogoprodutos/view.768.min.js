function sendForm(t){var e=$('form[data-submit="true"]');e.submit()}$(function(){function t(t){ProductModel.id=$("h1.product-name").data("id");var e=$(".label-stamp-wrapper"),a=$(".product-main-image"),o=$("#main-product-combination-list").find(".product-combination-list"),i=ProductModel.getChecked(o);t.prop("checked")&&ProductModel.find_det(i,null,function(n){if(null!==n.id){var r="product-comb-attribute";if(t[0]){var l=t[0].id;l=$("#"+l).closest(".wrapper-product-combination")}n.revendedor||n.cotacao?($("#tellme-sku").val(n.id),g($(".product-sku"),n.sku),W(l,r,n.combinacoes)):(a.find("img").css("opacity",1),$(".product-price").show(),$(".product-amount .wrapper-product-price").show(),0==n.estoque_disponivel?$(".wrapper-product-countdown").slideUp(500):$(".wrapper-product-countdown").slideDown(500),o.length==i.length&&(_($("h1.product-name"),n.id),g($(".product-sku"),n.sku),f(n),M(n),z(n.valor_venda_unitario),T(n.valor_venda),E(n.dados_integradores.maximo_parcelas,n.valor_parcelado),R(n.dados_integradores.desconto_avista,n.valor_avista),S(n.dados_integradores.pagamentos_parcelado,n.integradores),O(n.descontos,n.valor_venda),V(n)),W(l,r,n.combinacoes),1==n.disponivel?(e.find(".label-unavailable").hide(),w($(".wrapper-btn-buy"),n.label_comprar_detail)):(e.find(".label-unavailable").show(),$("#tellme-sku").val(n.id),P(n.exibe_preco_aviseme),k($(".wrapper-btn-buy"),n.msg_aviseme)))}else{var c='<div class="label-stamp label-unavailable">Produto Indisponível</div>';e.find(".label-unavailable").remove(),e.append(c),a.find("img").css("opacity",.5),$("#tellme-sku").val(n.id),_($(".product-name"),""),P(n.exibe_preco_aviseme),k($(".wrapper-btn-buy"),n.msg_aviseme)}d()})}function e(t){ProductModel.id=$("h1.product-name").data("id");var e=$(".label-stamp-wrapper"),a=$(".product-main-image"),o=a.children().children("img"),i=$("#main-product-combination-list").find(".product-combination-list"),n=ProductModel.getChecked(i),r=a.find(".video-holder");t.prop("checked")&&ProductModel.find_det(n,function(){},function(l){if(null!==l.id){var c="product-comb-attribute";if(t[0]){var s=t[0].id;s=$("#"+s).closest(".wrapper-product-combination")}l.ean&&($(".product-codebar").show(100),$(".product-codebar span").html(l.ean)),l.revendedor||l.cotacao?($("#tellme-sku").val(l.id),g($(".product-sku"),l.sku),W(s,c,l.combinacoes)):($(".product-price").show(),$(".product-amount .wrapper-product-price").show(),0==l.estoque_disponivel?$(".wrapper-product-countdown").slideUp(500):$(".wrapper-product-countdown").slideDown(500),i.length==n.length&&(A(l.valor_venda_unitario),g($(".product-sku"),l.sku),_($(".product-name"),l.id),f(l),M(l),T(l.valor_venda),E(l.dados_integradores.maximo_parcelas,l.valor_parcelado),R(l.dados_integradores.desconto_avista,l.valor_avista),S(l.dados_integradores.pagamentos_parcelado,l.integradores),O(l.descontos,l.valor_venda),V(l)),W(s,c,l.combinacoes),1==l.disponivel?(e.find(".label-unavailable").hide(),w($(".wrapper-btn-buy"),l.label_comprar_detail)):(e.find(".label-unavailable").show(),$("#tellme-sku").val(l.id),P(l.exibe_preco_aviseme),k($(".wrapper-btn-buy"),l.msg_aviseme))),ct?N($(".product-main-image"),l.thumbs):(o.unwrap(),o.remove(),$(".zoomContainer").remove(),$(".product-main-image").html('<img src="'+base_url_image+"/sku/"+l.img+'" class="product-image-zoom" data-zoom-image="'+base_url_image+"/sku/"+l.img+'" />'),$(".modal-product-image").children("img").attr("src",base_url_image+"/sku/thumb_"+l.img).fadeIn(1e3),j($(".product-thumbnails-list"),l.thumbs),$(".product-image-zoom").elevateZoom(st),h(),a.append(r),b())}else{var u='<div class="label-stamp label-unavailable">Produto Indisponível</div>';e.find(".label-unavailable").remove(),e.append(u),$("#tellme-sku").val(l.id),_($("h1.product-name"),""),P(l.exibe_preco_aviseme),k($(".wrapper-btn-buy"),l.msg_aviseme),ct?N($(".product-main-image"),l.thumbs):(o.unwrap(),o.remove(),$(".zoomContainer").remove(),$(".product-main-image").html('<img src="'+base_url_image+"/sku/"+l.img+'" class="product-image-zoom" data-zoom-image="'+base_url_image+"/sku/"+l.img+'" />'),$(".modal-product-image").children("img").attr("src",base_url_image+"/sku/thumb_"+l.img).fadeIn(1e3),a.children("img").css("opacity",.5),j($(".product-thumbnails-list"),l.thumbs))}d()})}function a(t){if(ProductModel.id=$("h1.product-name").data("id"),"0"!=t.val()){var e=$(".label-stamp-wrapper"),a=$(".product-main-image"),i=a.find(".video-holder"),r=a.children().children("img"),l=$("#main-product-combination-select").find(".product-combination-select"),c=n(l);ProductModel.find_det(c,function(){},function(n){if(null!==n.id)n.revendedor||n.cotacao?($("#tellme-sku").val(n.id),g($(".product-sku"),n.sku)):($(".product-price").show(),$(".product-amount .wrapper-product-price").show(),c.length>0&&o(n.combinacoes,c),l.length==c.length&&(A(n.valor_venda_unitario),g($(".product-sku"),n.sku),_($(".product-name"),n.id),f(n),M(n),T(n.valor_venda),E(n.dados_integradores.maximo_parcelas,n.valor_parcelado),R(n.dados_integradores.desconto_avista,n.valor_avista),S(n.dados_integradores.pagamentos_parcelado,n.integradores),O(n.descontos,n.valor_venda),V(n)),1==n.disponivel?(e.find(".label-unavailable").hide(),w($(".wrapper-btn-buy"),n.label_comprar_detail)):(e.find(".label-unavailable").show(),$("#tellme-sku").val(n.id),P(n.exibe_preco_aviseme),k($(".wrapper-btn-buy"),n.msg_aviseme))),t.hasClass("active-attribute")&&(ct?N($(".product-main-image"),n.thumbs):(r.unwrap(),r.remove(),$(".zoomContainer").remove(),$(".product-main-image").html('<img src="'+base_url_image+"/sku/"+n.img+'" class="product-image-zoom" data-zoom-image="'+base_url_image+"/sku/"+n.img+'" />'),$(".modal-product-image").children("img").attr("src",base_url_image+"/sku/thumb_"+n.img).fadeIn(1e3),j($(".product-thumbnails-list"),n.thumbs),$(".product-image-zoom").elevateZoom(st),h(),a.append(i),b()));else{var d='<div class="label-stamp label-unavailable">Produto Indisponível</div>';e.find(".label-unavailable").remove(),e.append(d),$("#tellme-sku").val(n.id),_($("h1.product-name"),""),P(n.exibe_preco_aviseme),k($(".wrapper-btn-buy"),n.msg_aviseme)}})}}function o(t,e){var a=[];e.forEach((t,e)=>{a.push(t.combinacao_id)}),t.forEach((t,e)=>{var o=!1;$("#combination-select-"+t.id).html(""),$("#combination-select-"+t.id).append('<option value="0">Escolha uma Opção</option>'),t.CombinacaoAtributo.forEach((e,a)=>{$("#combination-select-"+t.id).append('<option value="'+e.id+'" '+(e.selecionado?"selected":"")+">"+e.nome+"</option>"),e.selecionado&&(o=e.id)}),a.includes(t.id)&&o&&$("#combination-select-"+t.id).val(o)})}function i(){var t=new Array;if($("#main-product-combination-select").length>0)var e=$("#main-product-combination-select").find(".product-combination-select"),a=n(e),o=$("#main-product-combination-select").offset();else e=$("#main-product-combination-list").find(".product-combination-list"),a=ProductModel.getChecked(e),o=$("#main-product-combination-list").offset();return t={comb:e,checked:a,divCombination:o},t}function n(t){var e=new Array;return $(t).each(function(t,a){"0"!=$(a).val()&&(e[e.length]={produto_id:ProductModel.id,order:$(a).attr("data-order"),atributo_id:$(a).val(),combinacao_id:$(a).attr("data-comb"),muda_vitrine:1})}),e}function r(){$("#modal-tell-me").removeClass().addClass("modal modal-tell-me"),$(".modal-header-title").html('Avise-me quando disponível <a href="javascript:;" class="modal-close">×</a>'),$(".modal").find("#div-captcha").show();var t='<button id="tellme-btn" class="btn" type="button"><span class="btn-icon"></span><span class="btn-text">Cadastrar Aviso</span></button>';$(".modal-footer").html(""),$(".modal-footer").html(t),$("#modal-recommend").hide(),$("#modal-rating").hide(),$("#modal-product-tellme").show(),et(),$.modal.show("fadeInDown","modal-tell-me")}function l(){valid=!0;var t="",e=0;return $(".product-custom-question").length>0&&$(".product-custom-question").each(function(){t=$(this).closest(".row").find(".product-question-item-title").text(),e=$(this).val().length,$(this).hasClass("error")&&($(this).removeClass("error"),$(this).closest("div").find("label.error").remove()),$(this).prop("required")&&0==e&&($(this).addClass("error").after('<label class="error">Informe o '+t+"</label>"),valid=!1)}),valid}function c(){var t=new Array,e="";return $(".product-combination-list").each(function(){e=$(this).prev().text(),t[t.length]=e}),t}function d(){$(".product-combination-list").each(function(){var t=$(this).prev().text(),e=$(this).children(".product-combination-active").length;0!==e||$(this).hasClass("error")||$(this).addClass("error").after('<label class="error">Selecione opção de '+t+"</label>")})}function s(){$(".product-combination-list").each(function(){$(this).children(".product-combination-active").removeClass("product-combination-active"),$(this).find("input:checked").prop("checked",!1)})}function u(){var t=$("#main-product-combination-list").find(".product-combination-list");if(t.length>0){var e=null;$.each(t,function(){e=$(this).find("li.product-combination-item"),1==e.length&&e.find(".product-comb-attribute").trigger("click")})}}function p(){var t=$(".table-kit").find(".product-kit");if(t.length>0){var e=null,a=null;$.each(t,function(){e=$(this).find(".product-combination-list li"),1==e.length&&(a=e.find(".kit-comb-attribute"),$(a).trigger("click"))})}}function m(){var t=$(".table-kit").find(".product-kit");if(t.length>0&&(combinations=t.first().find(".product-combination-list li"),combinations.length>0)){var e=null;e=t.first().find(".product-combination-list").find(".product-combination-active"),e.length>0?(liCombination=e.find(".kit-comb-attribute"),$(liCombination).trigger("click")):(combination=t.first().find(".product-combination-list li").first(),liCombination=combination.find(".kit-comb-attribute"),$(liCombination).trigger("click"))}}function h(){$("#thumbnails-list").find("li:first-child").each(function(){$(this).children("a").addClass("active")})}function v(){$(".product-thumbnails-list").find(".active").removeClass("active"),$(".product-thumbnails-list").find(".product-video-item").children("#open-video-product").addClass("active"),$(".video-holder").addClass("active"),$(".product-main-image").addClass("video-active"),$(".zoomContainer").addClass("hide-zoom")}function b(){$(".product-main-image").removeClass("video-active"),$(".video-holder").removeClass("active"),$("#thumbnails-list").find(".product-video-item").children("#open-video-product").removeClass("active"),$(".player-yt").attr("src",$(".player-yt").attr("src"))}function g(t,e){t.html(""),t.html('Sku: <span itemprop="sku" content="'+e+'">'+e+"</span>")}function f(t){$(".product-max-amount").length,$(".product-min-amount").length;var e=$(".product-aval-amount").length,a=$("#product-measure").length,o=1;a>0&&(o=parseInt($("#product-measure").val())),a>0&&o>1?(a=parseFloat($("#product-amount").attr("data-multi")).toFixed(2).replace(".",","),$(".product-min-amount").hide(),$("#product-amount").val(a)):t.compra_minima<=1?($(".product-min-amount").hide(),$("#product-amount").val(1)):($(".product-min-amount").show(),$(".product-min-amount").children("span:nth-child(1)").html(t.compra_minima),$("#product-amount").val(t.compra_minima)),t.compra_maxima>0?($(".product-max-amount").show(),$(".product-max-amount").children("span:nth-child(1)").html(t.compra_maxima)):$(".product-max-amount").hide(),e&&$(".product-aval-amount").children("span:nth-child(1)").html(t.estoque_disponivel)}function _(t,e){t.attr("data-stock",e)}function w(t,e){t.html("");var a='<a href="javascript:;" class="btn btn-buy"><span class="icon-basket btn-icon"></span><span class="btn-text">'+e+"</span></a>",o='<a href="javascript:;" class="btn btn-favorite"><span class="icon-favorite btn-icon"></span><span class="btn-text">Adicionar aos Favoritos</span></a>';ct?$(".has-btn-favorite").length>0?(t.html(a+o),$(".wrapper-btn-fixed").removeClass("disabled")):(t.html(a),$(".wrapper-btn-fixed").removeClass("disabled")):t.html(a)}function C(t,e){$(".btn-text-unavailable-kit").hide(),t.html("");var a='<a href="javascript:;" class="btn btn-buy-kit"><span class="icon-basket btn-icon"></span><span class="btn-text">'+e+"</span></a>";t.html(a),$(".btn-buy-kit").show(),$(".wrapper-btn-fixed").removeClass("disabled")}function k(t,e){if(t.html(""),ct){o='<a href="#modal-tell-me" class="btn btn-tell-me"><span class="icon-basket btn-icon"></span><span class="btn-text">'+e+"</span></a>";var a='<a href="javascript:;" class="btn btn-favorite"><span class="icon-favorite btn-icon"></span><span class="btn-text">Adicionar aos Favoritos</span></a>';$(".has-btn-favorite").length>0?(t.html(o+a),$(".wrapper-btn-fixed").addClass("disabled")):(t.html(o),$(".wrapper-btn-fixed").addClass("disabled"))}else{var o='<a href="javascript:;" class="btn btn-tell-me"><span class="icon-basket btn-icon"></span><span class="btn-text">'+e+"</span></a>";t.html(o)}}function y(t){$(".btn-text-unavailable-kit").show(),$(".wrapper-btn-fixed").addClass("disabled")}function x(t,e){t.html("");var a='<span class="btn-text-unavailable">Indisponível</span>',o='<div class="label-stamp label-unavailable">Produto Indisponível</div>';e.find(".label-unavailable").remove(),e.append(o),t.html(a),$(".btn-buy-kit").hide(),$(".wrapper-btn-fixed").addClass("disabled")}function P(t){"0"==t&&q()}function q(){$(".product-sku").html(""),$(".element-product-detail").find(".product-old-price").children("span:nth-child(2)").html(""),$(".element-product-detail").find(".product-new-price").children("span:nth-child(2)").html(""),$(".element-product-detail").find(".product-parcelled-price").find("span").html(""),$(".element-product-detail").find(".product-price-off").find("span").html(""),$(".element-product-detail").find(".product-price").hide(),$(".product-amount .wrapper-product-price").hide(),$(".box-payment-off").hide(),$(".box-payment-parceled").hide()}function M(t){t.promocao&&null!==t.valor_original?($(".element-product-detail").find(".label-promo").html(t.percentual_promocao),$(".element-product-detail").find(".label-promo").show(),$(".element-product-detail").find(".product-old-price").show(),$(".element-product-detail").find(".product-old-price").children("span:nth-child(1)").html("de "),$(".element-product-detail").find(".product-old-price").children("span:nth-child(2)").html(accounting.formatMoney(t.valor_original))):($(".element-product-detail").find(".product-old-price").find("span").html(""),$(".element-product-detail").find(".product-old-price").hide(),$(".element-product-detail").find(".label-promo").hide())}function T(t){$(".element-product-detail").find(".product-new-price").children("span:nth-child(2)").html(""),$(".element-product-detail").find(".product-new-price").children("span:nth-child(2)").html(accounting.formatMoney(t)),$(".element-product-detail").find(".product-new-price-two").length>0&&($(".element-product-detail").find(".product-new-price-two").children(".product-sell-value").html(""),$(".element-product-detail").find(".product-new-price-two").children(".product-sell-value").html(accounting.formatMoney(t)))}function z(t){if($(".element-product-detail").find(".product-new-price .product-big-price-unit").length>0){$(".element-product-detail").find(".product-new-price .product-big-price-unit").html();$(".element-product-detail").find(".product-new-price .product-big-price-unit").html(accounting.formatMoney(t)),console.log(t)}}function I(t,e){e=parseFloat(e.replace(",","."));t/=e;$(".element-product-detail").find(".product-new-price .product-big-price-unit").length>0&&($(".element-product-detail").find(".product-new-price .product-big-price-unit").html(""),$(".element-product-detail").find(".product-new-price .product-big-price-unit").html(accounting.formatMoney(t)))}function A(t){$(".element-product-detail").find(".product-new-price .product-big-price-unit").length>0&&($(".element-product-detail").find(".product-new-price .product-big-price-unit").html(""),$(".element-product-detail").find(".product-new-price .product-big-price-unit").html(accounting.formatMoney(t)))}function E(t,e){$(".element-product-detail").find(".product-parcelled-price").children(".parcel-number").html(""),$(".element-product-detail").find(".product-parcelled-price").children(".parcel-number").html(t+"x"),$(".element-product-detail").find(".product-parcelled-price").children(".parcel-value").html(""),$(".element-product-detail").find(".product-parcelled-price").children(".parcel-value").html(accounting.formatMoney(e)),e>0?($(".product-parcelled-price").css("display","block"),$(".wrapper-product-parcels").css("display","block")):($(".product-parcelled-price").css("display","none"),$(".wrapper-product-parcels").css("display","none"))}function R(t,e){t>0&&($(".element-product-detail").find(".product-price-off").children("span:nth-child(1)").html(""),$(".element-product-detail").find(".product-price-off").children("span:nth-child(2)").html(""),$(".desconto_avista").length>0||$(".desconto_parcela").length>0?($(".desconto_avista").length>0&&$(".element-product-detail").find(".product-price-off").children(".desconto_avista").html(accounting.formatMoney(e)),$(".desconto_parcela").length>0&&$(".element-product-detail").find(".product-price-off").children(".desconto_parcela").html(t+"%")):($(".element-product-detail").find(".product-price-off").children("span:nth-child(1)").html(accounting.formatMoney(e)),$(".element-product-detail").find(".product-price-off").children("span:nth-child(2)").html(t+"%")))}function S(t,e){if(ct)D(t,e);else{var a=$("#tabs-payment"),o="",i="";a.html(""),o+="<ul>",$.each(e,function(t,e){e.numero_parcelas>1&&(o+='<li><a href="#'+e.slug.replace("icon-payment-","")+'">'+e.nome+"</a></li>")}),o+="</ul>",a.append(o),$.each(e,function(t,e){e.numero_parcelas>1&&(i+='<div id="'+e.slug.replace("icon-payment-","")+'"><table id="deferred-payment">',void 0!==e.Parcelas&&e.Parcelas.length>0&&$.each(e.Parcelas,function(t,e){i+='<tr><td class="parcel-number"><span class="parcel-number">'+e.numero+'x</span></td><td>de</td><td class="parcel-price"><span class="parcel-price">R$ '+e.valor_parcela.toFixed(2).replace(".",",")+'</span></td><td class="parcel-desc"><span>'+e.descricao+'</span></td><td class="parcel-total"> <span>Total: R$ '+e.total_parcela.replace(".",",")+"</span></td></tr>"}),i+="</table></div>")}),a.append(i),a.tabs("destroy"),a.tabs()}}function D(t,e){var a=$("#mobile-payment"),o="";a.html(""),$.each(e,function(t,e){e.numero_parcelas>1&&(o+='<div class="row">',o+="<h3>"+e.nome+"</h3>",o+='<div id="'+e.slug.replace("icon-payment-","")+'"><table class="deferred-payment">',$.each(e.Parcelas,function(t,e){o+='<tr><td class="parcel-number"><span class="parcel-number">'+e.numero+'x</span></td><td>de</td><td class="parcel-price"><span class="parcel-price">R$ '+e.valor_parcela.toFixed(2).replace(".",",")+'</span></td><td class="parcel-desc"><span>'+e.descricao+'</span></td><td class="parcel-total"> <span>Total: R$ '+e.total_parcela.replace(".",",")+"</span></td></tr>"}),o+="</table></div>",o+="</div>")}),a.append(o)}function O(t,e){if(1==t.ativo)if(t.tabela.length>0){var a=$(".table-progressive tbody"),o="";a.empty(),$.each(t.tabela,function(t,e){o+="<tr><td>"+e.ProdutoEstoqueDesconto.quantidade_rotulo+"</td><td>"+e.ProdutoEstoqueDesconto.desconto+'%</td><td><span class="">'+e.ProdutoEstoqueDesconto.valor_desconto+'</span><span class=""> (cada)</span></td></tr>'}),a.append(o),$(".wrapper-progressive").show()}else $(".wrapper-progressive").hide();else if(2==t.ativo&&null!==t.tabela&&t.tabela.length>0){a=$(".table-progressive tbody"),o="";a.empty(),$.each(t.tabela,function(t,a){o+="<tr><td>"+a.ProdutoEstoqueDesconto.quantidade_rotulo+"</td><td>"+a.ProdutoEstoqueDesconto.desconto+'%</td><td><span class="">'+accounting.formatMoney(e*(1-a.ProdutoEstoqueDesconto.desconto/100))+'</span><span class=""> (cada)</span></td></tr>'}),a.append(o),$(".wrapper-progressive").show()}}function j(t,e){var a=$(".product-thumbnails-list").find(".product-video-item").clone();t.empty(),$("#thumbnails-list").find(".bx-wrapper").each(function(){var t=$(this).length;t>0&&lt.destroySlider()}),$.each(e,function(e,a){var o='<li class="product-thumbnails-item"><a href="javascript:;" data-image="'+base_url_image+"/sku/"+a.name+'" data-zoom-image="'+base_url_image+"/sku/"+a.name+'"><img src="'+base_url_image+"/sku/thumb_"+a.name+'" class="product-thumb" height="50" width="50" alt=""></a></li>';t.append(o)}),t.append(a),null==lt?U():Z(),$(".product-main-image").removeClass("video-active"),at()}function N(t,e){var a=t.find(".product-video-item").clone();t.html(""),$(".product-image-list-zoom .product-image-zoom-inner").html("");var o='<ul class="product-image-list">';$.each(e,function(t,e){o+='<li><div class="inner"><figure><img src="'+base_url_image+"/sku/"+e.name+'" alt=""></figure></div></li>'}),o+="</ul>";var i="";$.each(e,function(t,e){i+='<div class="product-image-item-zoom" style="display:none;"><img src="'+base_url_image+"/sku/"+e.name+'" alt=""></div>'}),t.append(o),$(".product-image-list").append(a),$(".product-image-list-zoom .product-image-zoom-inner").append(i),listaImagensMobile=$(".product-image-list"),listaImagensMobile.bxSlider({infiniteLoop:!1,hideControlOnEnd:!0,pager:!1,prevText:'<span class="icon-prev-h"></span>',nextText:'<span class="icon-next-h"></span>',video:!0,useCSS:!1})}function F(t){const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())}function W(t,e,a){t.html("");var o="",i="";$.each(a,function(t,a){null!=a.classes_adicionais&&a.classes_adicionais.length>0&&(i=" wrapper-"+a.classes_adicionais),o+='<p class="product-combination-title">'+a.label+'</p><ul class="product-combination-list'+i+'">',$.each(a.CombinacaoAtributo,function(t,i){var n=1==i.disponivel?"":" product-combination-unavailable",r=1==i.selecionado?" product-combination-active":"",l=1==a.mostra_vitrine?" active-attribute":" non-active-attribute",c=1==i.selecionado?' checked="checked" ':"",d=B(i);o+='<li class="product-combination-item'+n+r+" "+a.classes_adicionais+'"><label for="CatalogoCombinacaoAtributoId'+a.produto_id+a.id+i.id+'" title="'+i.nome+'">'+d+"</label>"+(1==i.disponivel?"":'<span class="label-product-combination-unavailable">x</span>')+'<input type="hidden" name="data[CatalogoCombinacaoAtributo][id]['+a.produto_id+"]["+a.id+"]["+i.id+']" id="CatalogoCombinacaoAtributoId'+a.produto_id+a.id+i.id+'_" value="0"><input type="checkbox" name="data[CatalogoCombinacaoAtributo][id]['+a.produto_id+"]["+a.id+"]["+i.id+']" value="'+i.id+'"'+c+'class="comb-'+a.id+" "+e+" prod-"+a.produto_id+l+'" data-order="'+a.ordem+'" id="CatalogoCombinacaoAtributoId'+a.produto_id+a.id+i.id+'"></li>'}),o+="</ul>",1==a.instrucao_ativo&&(null!=a.instrucao_nome&&""!=a.instrucao_nome||(a.instrucao_nome="Instruções"),o+='<div class="pull-btn">'+`<a href="javascript:;" data-id="${a.id}" class="btn-show-instrucao">${a.instrucao_nome}</a>`+"</div>")}),t.html(o)}function L(t,e,a,o){t.html("");var i="",n="";$.each(a,function(t,a){null!=a.classes_adicionais&&a.classes_adicionais.length>0&&(n=" wrapper-"+a.classes_adicionais),i+='<p class="product-combination-title">'+a.label+'</p><ul class="product-combination-list'+n+'">',$.each(a.CombinacaoAtributo,function(t,n){var r=1==n.disponivel?"":" product-combination-unavailable",l=1==n.selecionado?" product-combination-active":"",c=1==a.mostra_vitrine?" active-attribute":" non-active-attribute",d=1==n.selecionado?' checked="checked" ':"",s=B(n);i+='<li class="product-combination-item'+r+l+" "+a.classes_adicionais+'"><label for="CatalogoCombinacaoAtributoId'+o.id+a.id+n.id+'" title="'+n.nome+'">'+s+"</label>"+(1==n.disponivel?"":'<span class="label-product-combination-unavailable">x</span>')+'<input type="hidden" name="data[CatalogoCombinacaoAtributo][id]['+o.id+"]["+a.id+"]["+n.id+']" id="CatalogoCombinacaoAtributoId'+o.id+a.id+n.id+'_" value="0"><input type="checkbox" name="data[CatalogoCombinacaoAtributo][id]['+o.id+"]["+a.id+"]["+n.id+']" value="'+n.id+'"'+d+'class="comb-'+a.id+" "+e+" prod-"+o.id+c+'" data-order="'+a.ordem+'" id="CatalogoCombinacaoAtributoId'+o.id+a.id+n.id+'"></li>'}),i+="</ul>",1==a.instrucao_ativo&&(null!=a.instrucao_nome&&""!=a.instrucao_nome||(a.instrucao_nome="Instruções"),i+='<div class="pull-btn">'+`<a href="javascript:;" data-id="${a.id}" class="btn-show-instrucao">${a.instrucao_nome}</a>`+"</div>")}),t.html(i)}function V(t){if($("#cepPeso").length>0){var e=parseInt(t.altura*t.largura*t.comprimento);if(t.peso=parseInt(t.peso),$("#product-shipping").is(":visible")){var a=parseInt($("#cepPeso").val()),o=parseInt($("#cepCubagem").val());t.peso==a&&e==o||$("#cep").trigger("keyup")}$("#cepPeso").val(parseInt(t.peso)),$("#cepCubagem").val(e)}}function B(t){var e="";return"imagem"==t.tipo_capa?e='<div class="combination-image"><img src="'+base_url_image+"/combinacao_atributo/thumb_"+t.name+'" alt=""></div>':"cor"==t.tipo_capa?(e='<div class="combination-color" style="background-color:#'+t.cor_primaria.replace("#","")+'" >',null!=t.cor_secundaria&&""!=t.cor_secundaria&&(e+='<span style="border-color:#'+t.cor_secundaria.replace("#","")+'"></span>'),e+="</div>"):e='<div class="combination-text">'+t.nome+"</div>",e}function U(){$(".product-thumbnails-vertical .product-thumbnails-list").each(function(){var t=$(this).contents("li").length;t>4&&(lt=$(".product-thumbnails-list").bxSlider({mode:"vertical",infiniteLoop:!1,hideControlOnEnd:!0,pager:!1,slideMargin:10,nextText:'<span class="icon-next-down"></span>',prevText:'<span class="icon-prev-up"></span>',autoReload:!0,breaks:[{screen:0,slides:4,pager:!1}]}))}),$(".content-main-cols-1").find(".product-thumbnails-horizontal .product-thumbnails-list").each(function(){var t=$(this).contents("li").length;t>5&&(lt=$(".product-thumbnails-list").bxSlider({infiniteLoop:!1,hideControlOnEnd:!0,pager:!1,slideMargin:10,nextText:'<span class="icon-next"></span>',prevText:'<span class="icon-prev"></span>',autoReload:!0,breaks:[{screen:0,slides:5,pager:!1}]}))}),$(".content-main-cols-2").find(".product-thumbnails-horizontal .product-thumbnails-list").each(function(){var t=$(this).contents("li").length;t>4&&(lt=$(".product-thumbnails-list").bxSlider({infiniteLoop:!1,hideControlOnEnd:!0,pager:!1,slideMargin:10,nextText:'<span class="icon-next"></span>',prevText:'<span class="icon-prev"></span>',autoReload:!0,breaks:[{screen:0,slides:4,pager:!1}]}))}),$(".content-main-cols-3").find(".product-thumbnails-horizontal .product-thumbnails-list").each(function(){var t=$(this).contents("li").length;t>3&&(lt=$(".product-thumbnails-list").bxSlider({infiniteLoop:!1,hideControlOnEnd:!0,pager:!1,slideMargin:10,nextText:'<span class="icon-next"></span>',prevText:'<span class="icon-prev"></span>',autoReload:!0,breaks:[{screen:0,slides:3,pager:!1}]}))})}function Z(){$(".product-thumbnails-vertical .product-thumbnails-list").each(function(){var t=$(this).contents("li").length;t>4&&lt.reloadSlider()}),$(".content-main-cols-1").find(".product-thumbnails-horizontal .product-thumbnails-list").each(function(){var t=$(this).contents("li").length;t>5&&lt.reloadSlider()}),$(".content-main-cols-2").find(".product-thumbnails-horizontal .product-thumbnails-list").each(function(){var t=$(this).contents("li").length;t>4&&lt.reloadSlider()}),$(".content-main-cols-3").find(".product-thumbnails-horizontal .product-thumbnails-list").each(function(){var t=$(this).contents("li").length;t>3&&lt.reloadSlider()})}function Q(t){ProductModel.id=$("h1.product-name").data("id");var{comb:e,checked:a}=i();ProductModel.find_det(a,null,function(e){var a=[{produto_estoque_id:e.id,produto_id:e.produto_id,sku_produto:e.sku,valor_unitario:e.valor_venda_unitario,altura:e.altura,largura:e.largura,comprimento:e.comprimento,peso:e.peso,tempo_producao:e.tempo_producao,estoque_disponivel:e.estoque_disponivel,estoque_avancado:e.estoque_avancado,estoque_situacao:e.estoque_avancado_situacao,estoque_situacao_sem:e.estoque_avancado_situacao_sem,frete_gratis:e.frete_gratis,quantidade:$("#product-amount").length>0?$("#product-amount").val():1}];$(".loading-page").show(),$.ajax({url:base_url+"EntregaFormas/calculaFrete",data:{carrinho:JSON.stringify({Item:a}),cep:'{"Cep":"'+t+'"}',product_only:!0},type:"POST",dataType:"json",success:function(t){var e=[];if($("#cep").prop("disabled",!1),void 0===t.Erro){var a=t[t.length-1];void 0!==a&&a.alerta_fretegratis&&(a=t.pop()),$.each(t,function(t,a){void 0!==a.Id?a.PrazoEntrega>0?(e.push("<tr><td>"+a.Nome+"</td><td>R$ "+a.Valor.replace(".",",")+"</td><td>"+a.PrazoEntrega+" "+a.PrazoDescricao+"</td></tr>"),a.PrazoMsg.length>0&&e.push('<tr><td colspan="3"><span class="list-shipping-estimate-alert">'+a.PrazoMsg+"</span></td></tr>")):a.PrazoDescricao.length>0&&0==a.PrazoEntrega?e.push("<tr><td>"+a.Nome+"</td><td>R$ "+a.Valor.replace(".",",")+"</td><td>"+a.PrazoDescricao+"</td></tr>"):e.push("<tr><td>"+a.Nome+"</td><td>R$ "+a.Valor.replace(".",",")+"</td><td> </td></tr>"):$.each(a,function(t,a){e.push("<tr><td>"+a.Nome+"</td><td>R$ "+a.Valor.toString().replace(".",",")+"</td><td>"+a.PrazoEntrega+" "+a.PrazoDescricao+"</td></tr>"),a.PrazoMsg.length>0&&e.push('<tr><td colspan="3"><span class="list-shipping-estimate-alert">'+a.PrazoMsg+"</span></td></tr>")})}),$("#product-shipping").find("th").show()}else $("#product-shipping").find("th").hide(),e.push('<tr><td colspan="3" class="wrapper-shipping-unavaliable"><div class="shipping-unavaliable">'+t.Erro.MsgErro+"</div></td></tr>");$(".loading-page").hide(),$("#product-shipping").show().children("tbody").html("").append(e)}})})}function H(t,e,a){if(t>0&&""!=t&&"undefined"!=t)if(1==t){var o=1,i=parseInt($("#product-amount").val());newAmount=i+a*o,newAmount>0&&($("#product-amount").val(newAmount),$("#product-amount").change())}else{o=e,i=parseFloat($("#product-amount").val().replace(",","."));newAmount=(i+a*o).toFixed(2),newAmount>0&&(newAmount=newAmount.replace(".",","),$("#product-amount").val(newAmount),$("#product-amount").change())}}function K(){var t=$("#product-amount").val(),e=$("#product-amount-decimal").val();"00"===e&&"0"===t?$("#product-amount").val(1):"0"===t&&0==$("#product-amount-decimal").length&&$("#product-amount").val(1)}function J(){ProductModel.find_detUnidade(parseInt($("h1.product-name").attr("data-stock")),$("#product-amount").val(),null,function(t){null!==t.id&&(t.revendedor||(productOldAmount=$("#product-amount").val(),t.alerta_quantidade?1==t.alerta_quantidade?($.message.show("error",{vars:{title:"Quantidade não disponível em estoque!"},idleTime:4e3}),$("#product-amount").val(productOldAmount)):("undefined"==typeof productOldAmount&&(productOldAmount=t.compra_minima),$.message.show("error",{vars:{title:t.alerta_quantidade.replace(".",",")},idleTime:4e3}),$("#product-amount").val(productOldAmount)):(M(t),T(t.valor_venda),I(t.valor_venda,$("#product-amount").val()),E(t.dados_integradores.maximo_parcelas,t.valor_parcelado),R(t.dados_integradores.desconto_avista,t.valor_avista),S(t.dados_integradores.pagamentos_parcelado,t.integradores),$(".table-kit").length>0&&($(".total-kit-value").children(".kit-price").html(accounting.formatMoney(t.valor_venda)),m()))))})}function G(t){return valid=!0,$.each(t,function(){var t=$(this),e=t.find(".product-combination-list"),a=ProductModel.getChecked(e),o=a.length,i=e.length;if(o!=i)return d(),$("html,body").animate({scrollTop:$(".product-combination-list.error").first().offset().top-200},1e3),valid=!1,!1}),valid}function X(t){"success"==t.resposta?$.message.show("product-list-add"):$.message.show("product-list-error")}function Y(){$("#rating-nome").val(""),$("#rating-email").val(""),$("#rating-cidade").val(""),$("#rating-estado").val(""),$("#rating-titulo").val(""),$("#rating-comentario").val(""),$("#captcha-input").val(""),$("#a-reload").click()}function tt(){$("#CotacaoNome").val(""),$("#CotacaoEmail").val(""),$("#CotacaoTelefone").val(""),$("#CotacaoObservacao").val(""),
$("#CotacaoLogradouro").val(""),$("#CotacaoNumero").val(""),$("#CotacaoComplemento").val(""),$("#CotacaoBairro").val(""),$("#CotacaoCidade").val(""),$("#CotacaoEstado").val(""),$("#CotacaoCep").val(""),$("#CotacaoQuantidade").val("")}function et(){var t=$("#g-recaptcha-response").val();t.length>0&&grecaptcha.reset()}function at(){setTimeout(function(){var t=$(".product-image-zoom").prop("naturalHeight"),e=$(".product-image-zoom").prop("naturalWidth");t>=600||e>=600?$(".zoomContainer").show():$(".zoomContainer").hide()},500)}function ot(){$(".wrapper-btn-fixed").removeClass("fadeInUp").addClass("fadeOutDown"),setTimeout(function(){$(".wrapper-btn-fixed").hide()},500)}function it(){$(".wrapper-btn-fixed").removeClass("fadeOutDown"),setTimeout(function(){$(".wrapper-btn-fixed").show().addClass("fadeInUp")},500)}function nt(t){var e=$(t).index();$(window).height();positionZoomMobile=$("html, body").scrollTop(),$(".wrapper").hide(),$(".product-image-list-zoom").addClass("active"),$(".product-image-list-zoom .product-image-zoom-inner").children().eq(e).show()}function rt(){$("body").css("overflow-y","auto"),$(".wrapper").show(),$(".product-image-list-zoom").removeClass("active"),$(".product-image-list-zoom .product-image-zoom-inner").children().hide(),$("html, body").scrollTop(positionZoomMobile)}var lt=null;listaImagensMobile=null,positionZoomMobile=null,positionModalBudget=null,$(window).on("load",function(){u(),p()});var ct=$("body").hasClass("layout-mobile");if(ct){if($(".wrapper-product-question").length>0){var dt=Math.max.apply(null,$(".wrapper-product-question .label-unit").map(function(){return $(this).outerWidth(!0)}).get());$(".wrapper-product-question").find(".label-unit").each(function(){$(this).closest('div[class^="grid"]').addClass("has-label-unit").css("padding-right",dt),$(this).css("min-width",dt)})}$(".product-image-list").each(function(){var t=$(this).children().length;t>1&&(listaImagensMobile=$(".product-image-list").bxSlider({infiniteLoop:!1,hideControlOnEnd:!0,pager:!1,prevText:'<span class="icon-prev-h"></span>',nextText:'<span class="icon-next-h"></span>',video:!0,useCSS:!1}))})}else $(".product-ratings-amount, .link-anchor").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html,body").animate({scrollTop:t.offset().top-20},1e3),!1}}),$(".product-main-image").find("source").remove();ProductModel.id=$("h1.product-name").data("id"),ProductModel.gift=$("h1.product-name").data("gift"),$(document).on("change",".product-combination-select",function(t){a($(this))}),$(document).on("click",".product-comb-attribute",function(a){var o=this.value,i="."+this.className.split(" ").pop(),n=this.className.split(" ").shift();$(i+'[value="'+o+'"][class~="'+n+'"]').prop("checked",!0).parent().addClass("product-combination-active"),$(i+'[value!="'+o+'"][class~="'+n+'"]').prop("checked",!1).parent().removeClass("product-combination-active"),$(this).hasClass("non-active-attribute")?t($(this)):$(this).hasClass("active-attribute")&&e($(this))}),$(document).on("click",".kit-comb-attribute",function(){ProductModel.id=$("h1.product-name").data("id");var t=$(this);this.value;t.closest("ul").find(".kit-comb-attribute").prop("checked",!1),t.closest("ul").find("li").removeClass("product-combination-active"),t.prop("checked",!0),t.closest("li").addClass("product-combination-active");var e=$(".label-stamp-wrapper"),a=$(".table-kit tbody tr"),o=t.closest(".main-product-combination-list").find(".product-combination-list"),i=t.closest(".product-kit").attr("data-id"),n=ProductModel.getChecked(o),r=ProductModel.getKitChecked(a,i),l={};l={id:t.closest("tr").data("id"),produtoId:t.closest("tr").data("product")},ProductModel.amount=1,$("#product-amount").length>0&&(ProductModel.amount=$("#product-amount").val());var c=$(".table-kit ul.product-combination-list").length,d=$(".table-kit ul.product-combination-list").find("li.product-combination-active").length;t.prop("checked")&&ProductModel.findKit(n,r,l,function(){$(".loading-page").show(100)},function(a){if($(".loading-page").hide(100),null!==a.id){var o=t.closest(".main-product-combination-list"),i="kit-comb-attribute",n=t.closest("tr"),r=t.closest("tr").find(".product-sku"),s=t.closest("tr").find(".product-price-kit"),u=t.closest("tr").children("td").first().find("img"),p=$(".total-kit-value");a.revendedor||a.cotacao?L(o,i,a.combinacoes,l):(e.find(".label-unavailable").remove(),M(a),T(a.valor_venda),E(a.dados_integradores.maximo_parcelas,a.valor_parcelado),R(a.dados_integradores.desconto_avista,a.valor_avista),S(a.dados_integradores.pagamentos_parcelado,a.integradores),L(o,i,a.combinacoes,l),n.attr("data-stock",a.stock_item),r.html("SKU: "+a.sku_item),s.html('por <span class="product-big-price">'+accounting.formatMoney(a.valor_item)+"</span>"),p.html('<span>Total:</span><span class="kit-price">'+accounting.formatMoney(a.valor_venda)+"</span>"),c==d&&(1==a.disponivel?C($(".wrapper-btn-buy"),a.label_comprar_detail):(x($(".wrapper-btn-buy"),e),y($(".wrapper-btn-buy"))))),u.attr("src",base_url_image+"/sku/thumb_"+a.img).fadeIn(1e3)}else{n=t.closest("tr"),r=t.closest("tr").find(".product-sku");n.attr("data-stock",a.stock_item),r.html("SKU: "+a.sku_item),x($(".wrapper-btn-buy"),e)}})}),$(document).on("click",".btn-disabled",function(){return!1}),$(document).on("click",".btn-buy",function(t){if(ProductModel.id=$("h1.product-name").data("id"),ProductModel.amount=1,$("#product-amount").length>0){var e=$("#product-amount").val();ProductModel.amount=$("#product-amount-decimal").length>0?e+","+$("#product-amount-decimal").val():e}var{comb:a,checked:o,divCombination:n}=i(),r=o.length,s=a.length,u=($(".product-custom-question[required='required']"),ProductModel.getQuestions($(".product-custom-question"))),p=$(this).hasClass("btn-pay-later");if(ProductModel.payLater=p?1:0,u.length>0&&u[0].error)return $.message.show("error",{vars:{title:u[0].msg},idleTime:4e3}),!1;if(!l()){var m=$(".product-question-title").html();return 0==m.length&&(m="Perguntas Customizadas"),$.message.show("error",{vars:{title:"Você precisa preencher todos os campos de "+m+"."},idleTime:4e3}),!1}if(s==r){t.preventDefault();var h=$(this),v=h.children(".btn-icon");h.hasClass("btn-disabled")||(h.addClass("btn-disabled"),v.addClass("loading-button"),$(".loading-page").show(),ProductModel.cartCreateProduct(o,u,function(){},function(t){if(t.alerta_quantidade)1==t.alerta_quantidade?($(".loading-page").hide(),v.removeClass("loading-button"),$.message.show("error",{vars:{title:"Quantidade não disponível em estoque!"},idleTime:4e3})):($(".loading-page").hide(),v.removeClass("loading-button"),$.message.show("error",{vars:{title:t.alerta_quantidade.replace(".",",")},idleTime:4e3}));else{$(".shopping-cart-total-price");var e=$(".modal-product-image").children("img");if(e.length&&(e=e[0]),App.addProductIcon(t,e),App.refreshCartIcon(t),ct&&(t.acao_comprar=t.acao_comprar_mobile),"3"==t.acao_comprar||"4"==t.acao_comprar){var a=base_url+"carrinho";$(location).attr("href",a)}else $(".loading-page").hide(),v.removeClass("loading-button"),$.message.show(t.continuar_comprando)}setTimeout(function(){h.removeClass("btn-disabled")},1100)}))}else{var b=c();$.message.show("error",{vars:{title:"Você precisa selecionar as combinações:<br/>"+b.join(", ")},idleTime:4e3}),$("html, body").animate({scrollTop:n.top-100},350),d()}}),$(document).on("click",".btn-buy-kit",function(t){$(".loading-page").show();var e=$(".table-kit").find(".product-kit"),a=$(".table-kit").data("kit"),o=G(e);if(o){var i=$(this),n=i.children(".btn-icon"),r=new Array;n.addClass("loading-button"),ProductModel.amount=1,$("#product-amount").length>0&&(ProductModel.amount=$("#product-amount").val()),$.each(e,function(){ProductModel.id=$(this).data("product"),ProductModel.kitId=a,r[r.length]={id:$(this).attr("data-id"),produto_id:$(this).attr("data-product"),produto_estoque_id:$(this).attr("data-stock")}}),ProductModel.cartCreateProductKitUnique(r,null,function(t){if(t.alerta_quantidade)$(".loading-page").hide(),$.message.show("error",{vars:{title:"Quantidade não disponível em estoque!"},idleTime:4e3});else{$(".shopping-cart-total-price");var e=$(this).find("img");if(App.refreshCartIcon(t),App.addProductIcon(t,e),s(),p(),$(".loading-page").hide(),"3"==t.acao_comprar||"4"==t.acao_comprar){var a=base_url+"carrinho";$(location).attr("href",a)}else $.message.show(t.continuar_comprando)}}),setTimeout(function(){n.removeClass("loading-button")},500)}else $(".loading-page").hide(),$.message.show("error",{vars:{title:"Você precisa selecionar as combinações dos itens."},idleTime:4e3})}),$(document).on("click",".btn-buy-all",function(t){$(".loading-page").show(),t.preventDefault();var e=new Array,a=$("#product-list").find("li");a.length&&(ProductModel.id=$("h1.product-name").data("id"),$.each(a,function(){$(this).find(".product-buy-all-quantity").length>0&&$(this).find(".product-buy-all-quantity").val()>0&&(e[e.length]={produto_estoque_id:$(this).attr("data-sku"),quantidade:$(this).find(".product-buy-all-quantity").val()})})),e.length>0?(route=WsRouter.generateRoute(null,"carrinhos","createProductMultiple",ProductModel.id),WsDispatcher.postRequest(route,{Itens:e},null,function(t){if(t.success){var e=base_url+"carrinho";$(location).attr("href",e)}else $.message.show("error",{vars:{title:"Itens com quantidade indisponível no estoque!",content:t.alerta_quantidade.join("<br/>")},idleTime:4e3})})):($(".loading-page").hide(),$.message.show("warning",{vars:{title:"Nenhum item foi selecionado para compra"},idleTime:4e3}))}),$(document).on("click","#budget-btn",function(t){t.preventDefault(),$("#form-budget").valid()&&($("#budget-btn").find("span.btn-text").addClass("loading-button"),$("#form-budget").attr("data-submit","true"),grecaptcha.execute())}),$(".product-buy-all-quantity").change(function(){var t=$(this);t.val()>0?t.closest("li").addClass("product-list-item-active"):t.closest("li").removeClass("product-list-item-active")}),$("#form-budget").validate({submitHandler:function(){var t=$("#g-recaptcha-response").val(),e={},a=WsRouter.generateRoute(null,"produto","cotacaoProduto",null);e={clienteNome:$("#CotacaoNome").val(),clienteEmail:$("#CotacaoEmail").val(),clienteTelefone:$("#CotacaoTelefone").val(),clienteObservacao:$("#CotacaoObservacao").val(),clienteLogradouro:$("#CotacaoLogradouro").val(),clienteNumero:$("#CotacaoNumero").val(),clienteComplemento:$("#CotacaoComplemento").val(),clienteBairro:$("#CotacaoBairro").val(),clienteCidade:$("#CotacaoCidade").val(),clienteEstado:$("#CotacaoEstado").val(),clienteCep:$("#CotacaoCep").val(),produtoId:$("#tellme-produto-id").val(),produtoEstoqueId:$("#tellme-sku").val(),quantidade:$("#CotacaoQuantidade").val(),recaptcha_response:t},WsDispatcher.postRequest(a,{VendaCotacao:JSON.stringify(e)},null,function(t){1==t.status?(tt(),ct?$("#modal-budget .modal-close").trigger("click"):$.modal.hide("fadeInUp","modal-budget"),$.message.show("success",{vars:{title:t.message},idleTime:4e3})):(et(),$.message.show("error",{vars:{title:t.message},idleTime:4e3})),$("#budget-btn").find("span.btn-text").removeClass("loading-button")})}}),$(document).on("click","#submit-recommendation",function(){$("#form-recommend").attr("data-submit","true"),grecaptcha.execute()}),$(document).on("click","#tellme-btn",function(t){$("#form-tellme").attr("data-submit","true"),grecaptcha.execute()}),$(document).on("click","#rating-btn",function(){$("#form-rating").valid()&&($("#form-rating").attr("data-submit","true"),grecaptcha.execute())}),$(document).on("click",".modal-close",function(){setTimeout(function(){$(".wrapper-form-modal, #div-captcha").hide()},500);var t=$('form[data-submit="true"]');t.attr("data-submit","false"),$.modal.hide("fadeInUp","modal-tell-me")}),ct?($(document).on("click",".btn-budget",function(){var t=$("#main-product-combination-list").find(".product-combination-list");if(checked=ProductModel.getChecked(t),contaMarcados=checked.length,contaCombinacoes=t.length,contaCombinacoes==contaMarcados){et(),$(".wrapper-form-modal, #div-captcha").show(),positionModalBudget=$(window).scrollTop();var e=$(e),a=$(window).height();$("body").css("overflow-y","hidden"),setTimeout(function(){$(".wrapper").css({"overflow-y":"hidden",height:a})},300),$("#modal-budget").addClass("open")}else $.message.show("error",{vars:{title:"Para fazer a cotação é preciso selecionar todas as combinações."},idleTime:4e3})}),$(document).on("click",".modal-close",function(){$("body").css("overflow-y","auto"),$(".wrapper").removeAttr("style"),$(window).scrollTop(positionModalBudget),$(".modal-x.open").removeClass("open")})):$(document).on("click",".btn-budget",function(){var t=$("#main-product-combination-list").find(".product-combination-list");checked=ProductModel.getChecked(t),contaMarcados=checked.length,contaCombinacoes=t.length,contaCombinacoes==contaMarcados?(et(),$(".wrapper-form-modal, #div-captcha").show(),$.modal.show(null,"modal-budget")):$.message.show("error",{vars:{title:"Para fazer a cotação é preciso selecionar todas as combinações."},idleTime:4e3})}),$("#CotacaoCep").blur(function(){var t=$(this);if(""!==t.val()){$("#CotacaoLogradouro, #CotacaoBairro, #CotacaoCidade, #CotacaoEstado").addClass("input-loading");var e=WsRouter.generateRoute(null,"api","getEnderecoByCep");WsDispatcher.postRequest(e,{cep:t.val()},null,function(t){$("#CotacaoEstado").val(t.estado).removeClass("input-loading"),$("#CotacaoCidade").val(t.cidade).removeClass("input-loading"),$("#CotacaoBairro").val(t.bairro).removeClass("input-loading"),$("#CotacaoLogradouro").val(t.logradouro).removeClass("input-loading")})}}),$(document).on("click",".btn-tell-me",function(t){var{comb:e,checked:a,divCombination:o}=i(),n=a.length,l=e.length;l==n?r():$.message.show("error",{vars:{title:"Você precisa selecionar todas as combinações para receber o aviso."},idleTime:4e3})}),$(".link-tell-me").click(function(){var t=$(this),e="",a=new Array;if(!t.hasClass("link-tell-me-loading")){if(t.addClass("link-tell-me-loading"),$("#main-product-combination-select").length>0)a.push(t.attr("data-comb1")),a.push(t.attr("data-comb2")),a.push(t.attr("data-comb3")),$(a).each(function(t,a){"0"!=a&&(a=a.split("-"),e="#combination-select-"+a[0],$(e).val(a[1]))}),$("#main-product-combination-select").find(".product-combination-select").first().trigger("change");else{var o=t.closest("li").attr("data-sku");$("#tellme-sku").val(o)}setTimeout(function(){r(),t.removeClass("link-tell-me-loading")},500)}}),$(".product-ratings-link").click(function(){$("#modal-tell-me").removeClass().addClass("modal modal-rating"),$(".modal-header-title").html('Faça uma avaliação deste produto: <a href="javascript:;" class="modal-close">×</a>');var t='<button id="rating-btn" class="btn rating-btn" type="button"><span class="btn-icon"></span><span class="btn-text">Enviar avaliação</span></button>';$(".modal-footer").html(t),$("#modal-rating").find("#rating-avaliacao").each(function(){$(this).val()>0&&$(".wrapper-form-modal, #div-captcha").show()}),$("#modal-recommend").hide(),$("#modal-product-tellme").hide(),$("#modal-rating").show(),et(),$.modal.show("fadeInDown","modal-tell-me")}),$("#form-recommend").validate({submitHandler:function(){var t=$("#g-recaptcha-response").val();$("#submit-recommendation").find(".btn-text").addClass("loading-button"),$.ajax({url:base_url+"produto/recommend/"+$(".product-name").data("id"),data:{name:$("#RecommendName").val(),friend_name:$("#RecommendFriendName").val(),email:$("#RecommendEmail").val(),friend_email:$("#RecommendFriendEmail").val(),comment:$("#RecommendComment").val(),recaptcha_response:t},dataType:"json",type:"POST",success:function(t){$("#submit-recommendation").find(".btn-text").removeClass("loading-button"),t.Evento.status?($.modal.hide("fadeInDown","modal-tell-me"),$.message.show("success",{vars:{title:"Produto recomendado com sucesso!",idleTime:3500}})):$.message.show("error",{vars:{title:t.Evento.message},idleTime:3500});var e=$('form[data-submit="true"]');e.attr("data-submit","false")}})}}),$("#tellme-email").on("change",function(){var t=$(this).val(),e=F(t);if(e){$(".modal-footer .btn").css("pointer-events","auto");var a="";$("#g-recaptcha-response-error").remove(),$("#modal-product-tellme").append(a)}else{$(".modal-footer .btn").css("pointer-events","none");a='<label id="g-recaptcha-response-error" class="error" for="g-recaptcha-response">E-mail Inválido!</label>';$("#g-recaptcha-response-error").remove(),$("#modal-product-tellme").append(a)}}),$("#form-tellme").validate({submitHandler:function(){var t=$("#g-recaptcha-response").val();if(t.length>0)$("#tellme-btn").find(".btn-text").addClass("loading-button"),$.ajax({url:base_url+"produto/aviseme/add",data:{nome:$("#tellme-nome").val(),email:$("#tellme-email").val(),produto_id:$("#tellme-produto-id").val(),produto_estoque_id:$("#tellme-sku").val(),recaptcha_response:t},dataType:"json",type:"POST",success:function(t){$("#tellme-btn").find(".btn-text").removeClass("loading-button"),-1==t.id?$.message.show("error",{vars:{title:t.mensagem},idleTime:3500}):($.modal.hide("fadeInDown","modal-tell-me"),$.message.show("success",{vars:{title:"Aviso cadastrado com sucesso!",idleTime:3500}}));var e=$('form[data-submit="true"]');e.attr("data-submit","false")}});else{var e='<label id="g-recaptcha-response-error" class="error" for="g-recaptcha-response">Você precisa completar o Captcha de segurança.</label>';$("#g-recaptcha-response-error").remove(),$(".modal-captcha").append(e)}}}),$("#form-rating").validate({submitHandler:function(){!0;var t=$("#g-recaptcha-response").val();if(t.length>0)$(".rating-btn:eq(1)").find(".btn-text").addClass("loading-button"),$.ajax({url:base_url+"produto/rateProduct",data:{produto_id:$("#rating-produto-id").val(),nome:$("#rating-nome").val(),email:$("#rating-email").val(),cidade:$("#rating-cidade").val(),estado:$("#rating-estado").val(),titulo:$("#rating-titulo").val(),comentario:$("#rating-comentario").val(),avaliacao:$("#rating-avaliacao").val(),recaptcha_response:t},dataType:"json",type:"POST",success:function(t){-1==t.id?$.message.show("warning",{vars:{title:t.mensagem},idleTime:3500}):(Y(),$.modal.hide("fadeInDown","modal-tell-me"),$.message.show("success",{vars:{title:"Avaliação cadastrada com sucesso!",idleTime:3500}})),!1,setTimeout(function(){$(".rating-btn:eq(1)").find(".btn-text").removeClass("loading-button");var t=$('form[data-submit="true"]');t.attr("data-submit","false")},300)}});else{var e='<label id="g-recaptcha-response-error" class="error" for="g-recaptcha-response">Você precisa completar o Captcha de segurança.</label>';$("#g-recaptcha-response-error").remove(),$(".modal-captcha").append(e),!1}}}),$(document).on("click",".rating-stars",function(){$(".wrapper-form-modal, #div-captcha").show();var t=null,e=$(this).prop("class").split(" ");t=e[1],$("#rating-avaliacao").val(t.substring(5)),$(this).parents(".product-rating").removeClass("star-1 star-2 star-3 star-4 star-5").addClass("star-"+t.substring(5))});var st={borderSize:1,borderColour:"#ddd",lensBorder:1,lensBorderColour:"#ddd",cursor:"pointer",tint:!0,tintColour:"#fff",tintOpacity:.5,zoomWindowPosition:1,zoomWindowOffetx:20,gallery:"thumbnails-list",galleryActiveClass:"active"};$(".product-image-zoom").length>0&&($(".product-image-zoom").elevateZoom(st),at()),$(document).on("click",".product-thumbnails-list li a",function(){$(".zoomContainer").show(),$(".zoomContainer").removeClass("hide-zoom"),b(),$(".product-main-image").find("source").remove()}),$(document).on("click","#open-video-product",function(){v()}),h(),U(),$("#cep").keyup(function(t){9===this.value.length&&Q(this.value)}).on("paste",function(t){9===this.value.length&&Q(this.value)}).click(function(){$("#cep").val("")}),$(".btn-share").click(ProductRecommend.open),$(document).on("click",".deferred-payment-header",function(){$(this).toggleClass("deferred-payment-header-active").next(".deferred-payment-list").slideToggle(500)}),$("#product-question-calculate").click(function(){$(".product-custom-question").trigger("change")}),$(".product-custom-question").change(function(){var t=$(this),e=new Array,a=new Array,o=!0,i=$(".product-question-result");if(i.hide(),0!=t.attr("data-question-action")?$(".product-custom-question").each(function(t){$(this).attr("data-question-action")>0&&(0==$(this).val().length?o=!1:e[e.length]={id:$(this).attr("data-question-id"),valor:$(this).val()}),"Bandô"==$(this).attr("data-question")&&(a[a.length]={param:"bando",largura:$(".custom-question-largura-persiana-vertical").val(),value:$(this).val()})}):o=!1,o){var n=parseInt($("h1.product-name").attr("data-stock")),r=WsRouter.generateRoute(null,"produto","readDetalhamentoPerguntas",n);WsDispatcher.postRequest(r,{perguntas:JSON.stringify(e),params:JSON.stringify(a)},null,function(t){!1!==t.pergunta?(i.find(".product-question-metrics").html(t.pergunta.medida+" "+t.label+" "),i.find(".product-question-value").html(t.pergunta.valor),i.show(),1==t.cmetragem&&($(".product-price .product-new-price span").first().html("Metro² "),$(".element-product-detail .product-price").hide(),$(".product-amount .wrapper-product-price").hide())):$.message.show("error",{vars:{title:t.msg},idleTime:4e3})})}}),$(".btn-item-increment").on("click",function(){var t=parseInt($("#product-measure").val()),e=$("#product-measure").attr("data-increment");H(t,e,1)}),$(".btn-item-decrement").on("click",function(){var t=parseInt($("#product-measure").val()),e=$("#product-measure").attr("data-increment");H(t,e,-1)}),$("#product-amount").change(function(){K(),J(),$("#cep").trigger("keyup")}),$("#product-amount-decimal").change(function(){K(),J(),$("#cep").trigger("keyup")});$(".btn-gift-list").click(function(){var t=$("h1.product-name").attr("data-stock");if(""!==t&&"undefined"!==t){var e=WsRouter.generateRoute(null,"listaDePresentes","addItem",[t]);WsDispatcher.postRequest(e,null,null,X)}else $.message.show("error",{vars:{title:"Você precisa selecionar as combinações do produto."},idleTime:4e3})}),$(document).on("click",".btn-favorite",function(){var t=$("h1.product-name").attr("data-stock");""!==t&&"undefined"!==t?ProductModel.favoriteProduct(t,null,function(t){1==t.status?$.message.show("success",{vars:{title:t.message1,content:t.message2},idleTime:4e3}):0==t.status&&0==t.logado?$.message.show("warning",{vars:{title:t.message1,content:t.message2},idleTime:!1}):$.message.show("error",{vars:{title:t.message1,content:t.message2},idleTime:4e3})}):$.message.show("error",{vars:{title:"Você precisa selecionar as combinações do produto."},idleTime:4e3})}),$("#tabs-payment").tabs(),$(".payment-parceled").each(function(){var t=$(this).width()/2;$(this).css("margin-left",-t)}),$(".rating-stars").tooltip(),$("#tabs-att-tec").length>0&&$("#tabs-att-tec").tabs(),$("#product-rating").length>0&&void 0!==$("#product-rating").attr("data-dorating")&&1==$("#product-rating").attr("data-dorating")&&setTimeout(function(){$(".product-ratings-link").trigger("click")},2e3),$(".grid-cep").hasClass("grid-dropship")&&setTimeout(function(){$("#cep").trigger("keyup")},500),$(document).on("click",".product-thumbnails-item",function(){at()}),$(document).on("click",".btn-show-instrucao",function(){var t=$(this).data("id"),e=$(this).text();$("#modal-instrucao-atributo").find(".modal-header-title").text(e),$("#modal-instrucao-atributo-mobile").find(".modal-title").text(e),$.ajax({url:base_url+"produto/combinacao/getInstrucaoAtributo",data:{id:t},type:"POST",dataType:"json",success:function(t){if($(".instrucao_atributo_descricao").html(""),$(".instrucao_atributo_descricao").html(t.Combinacao.instrucao_descricao),ct){var e=$(window).height();$("body").css("overflow-y","hidden"),setTimeout(function(){$(".wrapper").css({"overflow-y":"hidden",height:e})},300),$("#modal-instrucao-atributo-mobile").addClass("open")}else $.modal.show("fadeInDown","modal-instrucao-atributo")}})}),$(document).on("click","#modal-instrucao-atributo-mobile .modal-close",function(){$("body").css("overflow-y","auto"),$(".wrapper").removeAttr("style"),$("body").scrollTop($("body").scrollTop()),$(".modal-x.open").removeClass("open")}),ct&&($(window).on("load resize scroll",function(){$(".wrapper-btn-fixed").hasClass("disabled")?$(".wrapper-btn-fixed").hide():($(".wrapper-btn-buy:below-the-fold").each(function(){it()}),$(".wrapper-btn-buy:above-the-top").each(function(){it()}),$(".wrapper-btn-buy:in-viewport").each(function(){ot()}))}),$(document).on("click",".product-image-list > li:not(.product-video-item)",function(){var t=$(this);nt(t)}),$(document).on("click",".close-zoom",function(){rt()}))}),$(document).ready(()=>{setTimeout(function(){$(".show-zoom").show(300),$(document).on("click",".show-zoom",function(){if(null==listaImagensMobile)$(".product-image-list > li").eq(0).trigger("click");else{var t=listaImagensMobile.getCurrentSlide();$(".product-image-list > li").eq(t).trigger("click")}})},2e3)});